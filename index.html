<!DOCTYPE html>
<html>
<head>
	<title>glitching_3D_shapes</title>
	<meta charset="utf-8">
	<!-- Compiled w/ P5LIVE, http://github.com/ffd8/p5live -->
	<style type="text/css">
		body{
			margin:0;
			overflow:hidden;
		}
		canvas{
			position:fixed;
			top:0;
			left:0;
			z-index:-1;
			width:100vw;
			height:100vh;
			margin:0;
		}
	</style>
	<script type="text/javascript">
		// eco-mode = only render if window focused
		window.onblur = function () {
			noLoop();
		};
		window.onfocus = function () {
			loop();
		};
	</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/p5.min.js"></script>
<!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.3.1/addons/p5.sound.min.js"></script> -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/p5.glitch@latest/p5.glitch.js"></script>
</head>
<body>

<script type="text/javascript">
//glitching_3D_shapes

/* CUSTOM FUNCTIONS FOR P5LIVE */
// keep fullscreen if window resized
function windowResized() {
	resizeCanvas(windowWidth, windowHeight);
}

// custom ease function
function ease(iVal, oVal, eVal){
	return oVal += (iVal - oVal) * eVal;
}

// processing compatibility
function println(msg){
	print(msg);
}


let libs = ['https://cdn.jsdelivr.net/npm/p5.glitch@latest/p5.glitch.js']; 
let glitch, img; 
 
function preload() { 
	// you can load custom images, ie: unsplash.com 
	img = loadImage('https://images.unsplash.com/photo-1616428745055-80d874c95c46?ixid=MnwxMjA3fDB8MHxwcm9maWxlLXBhZ2V8M3x8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=60'); 
} 
 
function setup() { 
	//createCanvas(windowWidth, windowHeight); 
	createCanvas(windowWidth, windowHeight, WEBGL); 

 
	glitch = new Glitch(this); // initialize p5.glitch ('this' needed in P5LIVE...) 
	//glitch.loadImage(img); // grab image to glitch 
	
	//glitch.loadType('png'); // set format: jpg, png, webp 
	//glitch.loadQuality(.9); // 0.0 Â» 1.0, crunch low quality 
	//glitch.pixelate(1); //hard edges (.0 > 1)
 
	imageMode(CENTER); // draw center out 
	frameRate(24); // slow things down 
} 
 
function draw() { 
	background(31, 168, 208); 
	noStroke()
	texture(img)
	orbitControl(5)
	//sphere(250, 50, 50)
	box(300)
	//cone(350)

	//glitch.resetBytes(); // undo all glitching 
	//glitch.buildImage(); // compile image 
	image(glitch.image, width/2, height/2); // display glitched image 
} 

function keyPressed(){
	if(key == "s"){
		//glitch.saveImage();
		glitch.saveSafe();
		//glitch.saveCanvas()
	}
}
</script>

</body>
</html>